<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pavedbeach.com Prototype</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }

        header {
            background-color: #3955B8;
            color: white;
            padding: 1rem;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            box-sizing: border-box;
        }

        header h1 {
            margin: 0;
        }

        header nav {
            position: absolute;
            right: 20px;
        }

        header button {
            background-color: #32a83c;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            position: absolute;
            left: 20px;
            top: 15px;
        }

        header button:hover {
            background-color: #aeebb3;
        }

        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            gap: 10px;
        }

        nav ul li {
            display: inline;
            position: relative;
            right: 200px;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            display: block;
        }

        nav ul li:not(:first-child) a::before {
            content: '';
            position: absolute;
            left: -5px;
            top: 50%;
            transform: translateY(-50%);
            width: 1px;
            height: 20px;
            background-color: white;
        }

        .button-container {
            margin: 20px 0;
        }

        .button-container button {
            padding: 10px 20px;
            margin: 0 10px;
            font-size: 16px;
            cursor: pointer;
        }

        #sudoku-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        #sudoku-container table {
            border-collapse: collapse;
        }

        #sudoku-container td {
            width: 40px;
            height: 40px;
            text-align: center;
            border: 1px solid #000;
            font-size: 20px;
            background-color: #fff;
            padding: 0; /* Ensure no padding to avoid misalignment */
        }

        #buttons {
            text-align: center;
            margin-bottom: 20px;
        }

        #buttons button {
            margin: 5px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }

        #buttons button:hover {
            background-color: #777;
            color: white;
        }

        #check-button-container {
            text-align: center;
            margin: 20px 0;
        }

        #check-button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }

        #check-button:hover {
            background-color: #777;
            color: white;
        }

        input[type="text"] {
            width: 100%;
            height: 100%;
            text-align: center;
            font-size: 20px;
            border: none; /* Remove border to avoid double borders */
            outline: none;
            box-sizing: border-box; /* Ensure padding and border are included in width and height */
        }

        #error-counter {
            margin: 20px 0;
            text-align: center;
            font-size: 18px;
            color: red;
        }

        section {
            padding: 20px;
            width: 90%;
            max-width: 600px;
            margin: 20px auto;
            background-color: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        section h2 {
            text-align: center;
        }

        img {
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        iframe {
            width: 100%;
            height: 600px;
            border: none;
        }
    </style>
</head>
<body>

<header>
    <a href="login.html">
        <button onclick="document.getElementById('login').scrollIntoView()">Login</button></a>
    <h1>Pavedbeach.com</h1>
    <nav>
        <ul>
            <li><a href="#weather">Weather</a></li>
            <li><a href="#news">News</a></li>
            <li><a href="#sudoku">Sudoku</a></li>
        </ul>
    </nav>
</header>

<section id="weather">
    <h2>Weather</h2>
    <a href="https://www.bbc.co.uk/weather/2654200">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRL7UxbL87SC2HKTTYYIg4jYQ47WgOQsRrJAl93aM1AdA&s"
             alt="Burton on Trent Weather"
             style="width:300px;height:300px;"
             class="center">
    </a>
</section>

<section id="news">
    <h2>News</h2>
    <a href="https://www.staffordshire-live.co.uk/news/burton-news/">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRL7UxbL87SC2HKTTYYIg4jYQ47WgOQsRrJAl93aM1AdA&s"
             alt="Burton on Trent News"
             style="width:300px;height:300px;">
    </a>
</section>


<!--
<a href="https://www.bbc.co.uk/weather/2654200">
<img src="https://banner2.cleanpng.com/20180414/pkq/kisspng-weather-computer-icons-weather-5ad204f41ba772.4298522015237132681133.jpg"
alt="Burton on Trent Weather"
style="width:300px;height:300px;" title="Burton on Trent Weather"></a>
-->


<!--
<a href="https://www.staffordshire-live.co.uk/news/burton-news/">
<img src="https://st2.depositphotos.com/6789684/12262/v/450/depositphotos_122620866-stock-illustration-illustration-of-flat-icon.jpg"
alt="Burton on Trent News" 
style="width:300px;height:300px;" title="Burton on Trent News"></a> 
-->

<section id="sudoku">
    <h2>Sudoku</h2>
    <div id="error-counter">Errors: 0</div>
    <div id="buttons">
        <button onclick="generateSudoku('easy')">Easy</button>
        <button onclick="generateSudoku('medium')">Medium</button>
        <button onclick="generateSudoku('hard')">Hard</button>
    </div>
    <div id="sudoku-container"></div>
    <div id="check-button-container">
        <button id="check-button" onclick="checkSudoku()">Check</button>
    </div>
</section>

<script>
let errorCount = 0;
let currentSolution = [];

function updateErrorCounter() {
    document.getElementById('error-counter').textContent = `Errors: ${errorCount}`;
}

function generateSudoku(difficulty) {
    const sudokuContainer = document.getElementById('sudoku-container');
    sudokuContainer.innerHTML = ''; // Clear previous puzzle
    errorCount = 0; // Reset error count
    updateErrorCounter(); // Update the displayed error count

    // Create a new Sudoku puzzle based on difficulty
    const { puzzle, solution } = createSudokuPuzzle(difficulty);
    currentSolution = solution; // Save the solution

    // Generate the HTML table for the Sudoku puzzle
    const table = document.createElement('table');
    for (let row = 0; row < 9; row++) {
        const tr = document.createElement('tr');
        for (let col = 0; col < 9; col++) {
            const td = document.createElement('td');
            if (puzzle[row][col] !== 0) {
                td.textContent = puzzle[row][col];
            } else {
                const input = document.createElement('input');
                input.type = 'text';
                input.maxLength = 1;
                input.dataset.row = row;
                input.dataset.col = col;
                input.dataset.prevValue = ''; // Store previous value
                input.addEventListener('input', function () {
                    const prevValue = input.dataset.prevValue;
                    const newValue = input.value;
                    const correctValue = currentSolution[row][col];

                    if (prevValue && prevValue != correctValue && newValue == '') {
                        errorCount--;
                    } else if (newValue != '' && newValue != correctValue && prevValue != newValue) {
                        errorCount++;
                    }

                    input.dataset.prevValue = newValue;
                    updateErrorCounter();
                });
                td.appendChild(input);
            }
            tr.appendChild(td);
        }
        table.appendChild(tr);
    }
    sudokuContainer.appendChild(table);
}

// Function to create a Sudoku puzzle based on difficulty
function createSudokuPuzzle(difficulty) {
    // Base solution (for simplicity, using a fixed puzzle)
    const baseSolution = [
        [5, 3, 4, 6, 7, 8, 9, 1, 2],
        [6, 7, 2, 1, 9, 5, 3, 4, 8],
        [1, 9, 8, 3, 4, 2, 5, 6, 7],
        [8, 5, 9, 7, 6, 1, 4, 2, 3],
        [4, 2, 6, 8, 5, 3, 7, 9, 1],
        [7, 1, 3, 9, 2, 4, 8, 5, 6],
        [9, 6, 1, 5, 3, 7, 2, 8, 4],
        [2, 8, 7, 4, 1, 9, 6, 3, 5],
        [3, 4, 5, 2, 8, 6, 1, 7, 9]
    ];

    // Clone the base solution
    const puzzle = baseSolution.map(row => row.slice());

    // Remove numbers based on difficulty
    let numbersToRemove;
    switch (difficulty) {
        case 'easy':
            numbersToRemove = 20;
            break;
        case 'medium':
            numbersToRemove = 40;
            break;
        case 'hard':
            numbersToRemove = 60;
            break;
        default:
            numbersToRemove = 20;
    }

    while (numbersToRemove > 0) {
        const row = Math.floor(Math.random() * 9);
        const col = Math.floor(Math.random() * 9);
        if (puzzle[row][col] !== 0) {
            puzzle[row][col] = 0;
            numbersToRemove--;
        }
    }

    return { puzzle, solution: baseSolution };
}

// Function to check the entered Sudoku against the solution
function checkSudoku() {
    const inputs = document.querySelectorAll('#sudoku-container input');
    inputs.forEach(input => {
        const row = input.dataset.row;
        const col = input.dataset.col;
        if (input.value != currentSolution[row][col]) {
            input.style.backgroundColor = 'red';
        } else {
            input.style.backgroundColor = 'lightgreen';
        }
    });
}
</script>
</body>
</html>
